---
import { AUTH_TOKEN_TOKEN } from '../../../core/src/tokens';
import { WebSocketApi } from "sst/node/websocket-api";
import Chat from "../components/Chat.jsx";
import Layout from "../layouts/Layout.astro";

const token = Astro.cookies.get(AUTH_TOKEN_TOKEN)?.value;

const wsApiUrl = WebSocketApi.ChatWS.url;
const props = { wsApiUrl, token  };
---
<Layout title="SashaChat" isAuth="true">
  <Chat client:only="react" {...props} ></Chat>
</Layout>
